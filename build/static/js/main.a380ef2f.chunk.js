(this["webpackJsonpios-xe-ops"]=this["webpackJsonpios-xe-ops"]||[]).push([[0],{136:function(e,t,a){},137:function(e,t,a){},170:function(e,t){},212:function(e,t,a){"use strict";a.r(t);var c=a(1),r=a.n(c),n=a(52),s=a.n(n),l=(a(136),a(137),a(138),a(7)),i=a.n(l),o=a(26),d=a(4),j=a(219),b=a(60),h=a(47),u=a(28),x=a(14),p=a(16),O=a.n(p),m=a(21),g=a(22),f=a(24),v=a(12),y=a(10),w=(a(158),a(159),a(0));function N(e){return void 0!==e?Object(w.jsx)(x.a,{bg:"dark",children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(v.a,{children:Object(w.jsxs)(x.a.Title,{className:"mb-3",children:["Mode: ",e.mode]})}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(y.a,{xl:3,children:[e["bridge-assurance"]?Object(w.jsx)("p",{className:"card-text",children:"Bridge Assurance:"}):Object(w.jsx)("div",{}),e["loop-guard"]?Object(w.jsx)("p",{className:"card-text",children:"Loop Guard:"}):Object(w.jsx)("div",{}),e["bpdu-guard"]?Object(w.jsx)("p",{className:"card-text",children:"BPDU Guard:"}):Object(w.jsx)("div",{}),e["etherchannel-misconfig-guard"]?Object(w.jsx)("p",{className:"card-text",children:"EtherChannel Mis."}):Object(w.jsx)("div",{})]}),Object(w.jsxs)(y.a,{xl:2,children:[Object(w.jsx)("p",{className:"card-text",children:null===e["bridge-assurance"][0]?"Disabled":e["bridge-assurance"]}),Object(w.jsx)("p",{className:"card-text",children:null===e["loop-guard"][0]?"Disabled":e["loop-guard"]}),Object(w.jsx)("p",{className:"card-text",children:e["bpdu-guard"]&&null===e["bpdu-guard"][0]?"Disabled":e["bpdu-guard"]}),Object(w.jsx)("p",{className:"card-text",children:null===e["etherchannel-misconfig-guard"][0]?"Disabled":e["etherchannel-misconfig-guard"]})]}),Object(w.jsx)(y.a,{xl:8})]})]})}):Object(w.jsx)("h4",{style:{textAlign:"center"},children:"Spanning Tree Not Enabled"})}a(25).DataTable=a(31);var S=a(25);S.DataTable=a(31);var T=a(25);function I(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table  table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Address"}),Object(w.jsx)("th",{children:"Encap Type"}),Object(w.jsx)("th",{children:"Mac"}),Object(w.jsx)("th",{children:"Mode"}),Object(w.jsx)("th",{children:"Time"}),Object(w.jsx)("th",{children:"Link Type"}),Object(w.jsx)("th",{children:"Vrf"}),Object(w.jsx)("th",{children:"Interface"})]})})})}));return T.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{T(a.current).DataTable().clear(),T(a.current).DataTable().rows.add(e.arps),T(a.current).DataTable().draw(!1)}catch(t){}}),[e.arps]),Object(c.useEffect)((function(){T(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No ARP Entries"},columns:[{data:"address"},{data:"enctype"},{data:"hardware"},{data:"mode"},{data:"time"},{data:"type"},{data:"vrf"},{data:"interface"}]})}catch(a){}}(a.current,e.arps)}),[]),n}T.DataTable=a(31);var D=a(25);function k(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"Status"}),Object(w.jsx)("th",{children:"Description"}),Object(w.jsx)("th",{children:"IP"}),Object(w.jsx)("th",{children:"Mask"}),Object(w.jsx)("th",{children:"Speed (Mbps)"}),Object(w.jsx)("th",{children:"Qos Allocation"}),Object(w.jsx)("th",{children:"Trans Band"}),Object(w.jsx)("th",{children:"RecieveBand"}),Object(w.jsx)("th",{children:"Qos Policy"}),Object(w.jsx)("th",{children:"Policy Direction"})]})})})}));return D.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{D(a.current).DataTable().clear(),D(a.current).DataTable().rows.add(Object.values(e.interfaces)),D(a.current).DataTable().draw(!1)}catch(t){}}),[e.interfaces]),Object(c.useEffect)((function(){D(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:Object.values(t),language:{emptyTable:"No Interfaces Found"},columns:[{data:"data.name"},{data:"data.oper-status"},{data:"data.description"},{data:"data.ipv4"},{data:"data.ipv4-subnet-mask"},{data:"data.speed"},{data:"qos.allocation"},{data:"data.statistics.tx-kbps"},{data:"data.statistics.rx-kbps"},{data:"qos.interface_policy"},{data:"qos.direction"}],fnRowCallback:function(e,a){try{Object.values(t).map((function(t){return t.qos.length>1&&t.interface===a.data.name&&S("td:eq(6)",e).html("Mult. Allocations. See Qos Tab"),""})),parseInt(a.data.statistics["tx-kbps"])>parseInt(a.qos.allocation)?S(e).addClass("env-row-text-warn blinking"):parseInt(a.data.statistics["tx-kbps"])<parseInt(a.qos.allocation)&&S("td:eq(6)",e).addClass("env-row-text"),S("td:eq(5)",e).html(1e3*Math.round(a.data.speed/1e9)),S("td:eq(5)",e).addClass()}catch(c){console.log(c)}}})}catch(a){}}(a.current,e.interfaces)}),[]),n}D.DataTable=a(31);var C=a.p+"static/media/router.cd099654.png",E=a(54),P={size:15,strokeWidth:0,color:"white"},R={size:16,color:"white"},A={nodes:{shape:"image",image:C,size:35,color:{border:"black",background:"#166F20",highlight:{border:"#2B7CE9",background:"#D2E5FF"}}},layout:{randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!0,levelSeparation:500,treeSpacing:300,edgeMinimization:!0,parentCentralization:!0,direction:"DU",sortMethod:"directed",shakeTowards:"leaves"}},physics:{enabled:!0,hierarchicalRepulsion:{centralGravity:0,springLength:0,springConstant:.01,nodeDistance:250,damping:1,avoidOverlap:1}}};var M=a(25);function F(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Vlan"}),Object(w.jsx)("th",{children:"Group"}),Object(w.jsx)("th",{children:"Priority"}),Object(w.jsx)("th",{children:"State"}),Object(w.jsx)("th",{children:"Standby"}),Object(w.jsx)("th",{children:"VIP"})]})})})})),s=r.a.createRef(),l=Object(c.useRef)(null);return M.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current){try{M(a.current).DataTable().clear(),M(a.current).DataTable().rows.add(e.hsrp),M(a.current).DataTable().draw(!1)}catch(n){}try{l.current=(t=l.current,c=e.hsrp,r=e.localIp,Object.entries(c).forEach((function(e,a){"unknown"===e[1].standby||"Init"===e[1].state?t.body.data.edges.update({id:e[1].vlanInt,from:r,to:a,color:"yellow",label:e[1].vlanInt+"\n"+e[1].state+"\n"+e[1].active,font:P}):t.body.data.edges.update({id:e[1].vlanInt,from:r,to:a,color:"green",label:e[1].vlanInt+"\n"+e[1].state+"\n"+e[1].active,font:P})})),t),s.current=l.current}catch(i){console.log(i)}}var t,c,r}),[e.hsrp]),Object(c.useEffect)((function(){M(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No HSRP Interfaces"},columns:[{data:"vlanInt"},{data:"group"},{data:"priority"},{data:"state"},{data:"standby"},{data:"vip"}],fnRowCallback:function(e,t){try{"Active"===t.state&&(S("td:eq(3)",e).addClass("env-row-text"),S("td:eq(4)",e).addClass("env-row-text")),"unknown"!==t.standby&&"Init"!==t.state||S(e).addClass("env-row-text-warn blinking")}catch(a){console.log(a)}}})}catch(a){}}(a.current,e.hsrp);try{e.hsrp.length>=1&&(l.current=function(e,t,a){var c=[],r=[];return c.push({id:a,label:"Local\n"+a,font:R}),Object.entries(t).forEach((function(e,t){c.push({id:e[0],label:e[1].vlanInt+"\n"+e[1].vip,font:P}),c.push({id:t,label:e[1].vlanInt+"\n"+e[1].vip,font:P})})),Object.entries(t).forEach((function(e,t){"unknown"===e[1].standby||"Init"===e[1].state?r.push({id:e[1].vlanInt,from:a,to:t,color:"yellow",label:e[1].vlanInt+"\n"+e[1].state+"\n"+e[1].active,font:P}):r.push({id:e[1].vlanInt,from:a,to:t,color:"green",label:e[1].vlanInt+"\n"+e[1].state+"\n"+e[1].active,font:P})})),console.log(e),new E.Network(e,{nodes:c,edges:r},A)}(s.current,e.hsrp,e.localIp),s.current=l.current)}catch(t){}}),[]),Object(w.jsxs)("div",{children:[Object(w.jsx)("div",{className:"col-12",children:Object(w.jsx)("div",{ref:s,className:"bg-dark",style:{width:"100%",height:"300px"}})}),Object(w.jsx)("div",{className:"col-12",children:n})]})}M.DataTable=a(31);var B=a(25);function L(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Device"}),Object(w.jsx)("th",{children:"Platform"}),Object(w.jsx)("th",{children:"Remote-Port"}),Object(w.jsx)("th",{children:"Duplex"}),Object(w.jsx)("th",{children:"Capability Avl."}),Object(w.jsx)("th",{children:"Mgmt IP"}),Object(w.jsx)("th",{children:"IP"}),Object(w.jsx)("th",{children:"Local Int."})]})})})})),s=r.a.createRef(),l=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Device"}),Object(w.jsx)("th",{children:"Local Int."}),Object(w.jsx)("th",{children:"TTL"}),Object(w.jsx)("th",{children:"Remote Int."})]})})})})}(s);return B.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{B(n.current).DataTable().clear(),B(n.current).DataTable().rows.add(e.dpNeighbors[0]),B(n.current).DataTable().draw(!1)}catch(t){}if(null!==s.current)try{B(s.current).DataTable().clear(),B(s.current).DataTable().rows.add(e.dpNeighbors[1]),B(s.current).DataTable().draw(!1)}catch(c){}}),[e.dpNeighbors]),Object(c.useEffect)((function(){B(s.current).DataTable().destroy(),B(n.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"No CDP Neighbors"},data:t,columns:[{data:"device-name"},{data:"platform-name"},{data:"port-id"},{data:"duplex"},{data:"capability"},{data:"mgmt-address"},{data:"ip-address"},{data:"local-intf-name"}],fnRowCallback:function(e,t){try{"cdp-full-duplex-mismatch"===t.duplex&&S(e).addClass("env-row-text-warn blinking")}catch(a){console.log(a)}}})}catch(a){}}(a.current,e.dpNeighbors[0]),function(e,t){try{S(e).DataTable({language:{emptyTable:"No LLDP Neighbors"},data:t,columns:[{data:"device-id"},{data:"local-interface"},{data:"ttl"},{data:"connecting-interface"}]})}catch(a){}}(s.current,e.dpNeighbors[1])}),[]),Object(w.jsxs)(b.a,{defaultActiveKey:"cdp",id:"dpneighbors",children:[Object(w.jsx)(h.a,{eventKey:"cdp",title:"CDP",children:n}),Object(w.jsx)(h.a,{eventKey:"lldp",title:"LLDP",children:l})]})}B.DataTable=a(31);var q=a(11);function z(){return Object(w.jsx)(x.a,{bg:"dark",className:"mb-3",style:{height:"500px"},children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)("h3",{classname:"text-center fade-in",style:{marginTop:185,color:"orange",fontWeight:"bold"},children:"!Something Went Wrong. Please Refresh! Please Report the Issue"}),Object(w.jsx)(q.b,{to:"https://github.com/cober2019/react-ios-xe-ops/issues",children:"Click Here to Submit Issue"})]})})}function U(e,t){return Object(w.jsx)(x.a,{bg:"dark",className:"mb-3",children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(x.a.Title,{className:"mb-3",children:t}),Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:e})]})})}function W(e,t,a){return new Promise((function(c){c(O.a.post("/login",{ip:e,username:t,password:a,port:443},{timeout:3e4}))}))}function V(){return new Promise((function(e){setTimeout((function(){e(O.a.post("/apistatus"))}),5e3)}))}var X=a(59),_=a(40);function H(e){var t=Object(c.useState)(!0),a=Object(d.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:200===e.sent.status?n(!0):n(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[e.update]),Object(w.jsx)(v.a,{xl:!0,className:"mt-3",children:Object(w.jsx)(_.a,{expand:"lg",children:Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(_.a.Brand,{href:"#home",className:"disabledCursor",children:"XE Ops"}),Object(w.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(X.a,{className:"me-auto",children:[Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/index",children:"Home"}),"ASR"!==localStorage.getItem("model")&&"CSR"!==localStorage.getItem("model")?Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/layerTwo",children:"LayerTwo"}):Object(w.jsx)("div",{}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/routing",children:"Routing"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/environment",children:"Env"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/dmvpn",children:"DMVPN"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/ipslas",children:"IP Slas"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/ribstatus",children:"RibStatus"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/live_interfaces",children:"Live-Interfaces"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/config",children:"Cfg/Oper"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/logout",children:"Logout"}),Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0Connection: ",e.ip]}),r?Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["API Reachable: \xa0",Object(w.jsx)("span",{children:Object(w.jsx)("div",{className:"fa fa-circle env-row-text"})})]}):Object(w.jsx)(q.b,{className:" env-row-text-warn nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:Object(w.jsx)("span",{children:"API Unreachable"})}),e.fetchingStatus?Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["Polling Status: \xa0\xa0",Object(w.jsx)("div",{className:"fa fa-circle env-row-text"})]}):Object(w.jsxs)(q.b,{className:"nav-link text-light",style:{fontWeight:"bold"},children:["Polling Status: \xa0\xa0",Object(w.jsx)("span",{children:Object(w.jsx)("div",{className:"fa fa-circle env-row-text-warn disabledCursor"})})]}),Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["CPU: ",e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["five-seconds"],"%"]}),Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["Memory: ",e.mem["used-percent"],"%"]}),Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor  ",style:{fontWeight:"bold"},children:["|\xa0\xa0\xa0Device Model/SN: ",localStorage.getItem("model")," (",localStorage.getItem("serial"),")"]})]})})]})})})}var K=function(e,t,a,c,r){return Object(w.jsx)(u.a,{fluid:"xl",children:Object(w.jsxs)(v.a,{children:[Object(w.jsx)(y.a,{xl:2}),Object(w.jsx)(y.a,{xl:8,children:Object(w.jsx)(x.a,{bg:"dark",style:{marginTop:"100px"},children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsxs)("h3",{className:"blinking-loader",children:["Collecting Data From ",e]}),Object(w.jsx)("br",{}),Object(w.jsxs)("h6",{children:["Device Model/SN: ",a," (",t,")"]}),Object(w.jsxs)("h6",{children:["Uptime: ",c]}),Object(w.jsxs)("h6",{children:["Software:  (",r,")"]})]})})}),Object(w.jsx)(y.a,{xl:2})]})})},G=a(23);function J(e){var t=Object(c.useState)(!0),a=Object(d.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,V();case 3:200===e.sent.status?n(!0):n(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[e.update]),Object(w.jsx)(v.a,{xl:!0,className:"mt-3",children:Object(w.jsx)(_.a,{expand:"lg",children:Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(_.a.Brand,{href:"#home",className:"disabledCursor",children:"XE Ops"}),Object(w.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(X.a,{className:"me-auto",children:[Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/index",children:"Home"}),"ASR"!==localStorage.getItem("model")&&"CSR"!==localStorage.getItem("model")?Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/layerTwo",children:"LayerTwo"}):Object(w.jsx)("div",{}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/routing",children:"Routing"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/environment",children:"Env"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/dmvpn",children:"DMVPN"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/ipslas",children:"IP Slas"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/ribstatus",children:"RibStatus"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/live_interfaces",children:"Live-Interfaces"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/config",children:"Cfg/Oper"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/logout",children:"Logout"}),Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0Connection: ",e.ip]}),r?Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["API Reachable: \xa0",Object(w.jsx)("span",{children:Object(w.jsx)("div",{className:"fa fa-circle env-row-text"})})]}):Object(w.jsx)(q.b,{className:" env-row-text-warn nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:Object(w.jsx)("span",{children:"API Unreachable"})}),e.fetchingStatus?Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["Polling Status: \xa0\xa0",Object(w.jsx)("div",{className:"fa fa-circle env-row-text"})]}):Object(w.jsxs)(q.b,{className:"nav-link text-light",style:{fontWeight:"bold"},children:["Polling Status: \xa0\xa0",Object(w.jsx)("span",{children:Object(w.jsx)("div",{className:"fa fa-circle env-row-text-warn disabledCursor"})})]}),Object(w.jsx)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:"CPU: Err"}),Object(w.jsx)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:"Memory: Err"})]})})]})})})}function Q(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"indexData",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/pollIndexPage",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:1e4}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return n?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l})}),Object(w.jsx)("h4",{className:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{className:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})}),Object(w.jsx)(x.a,{bg:"dark",className:"mb-3",children:Object(w.jsx)(x.a.Body,{children:Object(w.jsxs)(b.a,{defaultActiveKey:"Interfacetable",id:"interfaces",children:[Object(w.jsx)(h.a,{eventKey:"Interfacetable",title:"Interface Table",children:U(Object(w.jsx)(k,{interfaces:s.interfaces}))}),Object(w.jsx)(h.a,{eventKey:"arp",title:"ARP",children:U(Object(w.jsx)(I,{arps:s.arps}),"ARPs")})]})})}),U(Object(w.jsx)(L,{dpNeighbors:s.dp})),s.hsrp.length>0?U(Object(w.jsx)(F,{hsrp:s.hsrp,localIp:localStorage.getItem("ip")}),"HSRP Topology"):Object(w.jsx)("div",{})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}var Y=a(25);function Z(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Vlan"}),Object(w.jsx)("th",{children:"MAC"}),Object(w.jsx)("th",{children:"Type"}),Object(w.jsx)("th",{children:"Port"})]})})})}));return Y.fn.dataTable.ext.errMode="none",console.log(e.macs),Object(c.useEffect)((function(){if(null!==a.current)try{Y(a.current).DataTable().clear(),Y(a.current).DataTable().rows.add(Object.values(e.macs)),Y(a.current).DataTable().draw(!1)}catch(t){}}),[e.macs]),Object(c.useEffect)((function(){Y(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No MAC Addresses Found"},columns:[{data:"vlan-id-number"},{data:"mac"},{data:"mat-addr-type"},{data:"port"}]})}catch(a){}}(a.current,e.macs)}),[]),n}Y.DataTable=a(31);var $=a(25);function ee(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{height:175,width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Cost"}),Object(w.jsx)("th",{children:"Port Priority"}),Object(w.jsx)("th",{children:"Role"}),Object(w.jsx)("th",{children:"State"}),Object(w.jsx)("th",{children:"Fwd. Transistion"}),Object(w.jsx)("th",{children:"Link Type"})]})})})}));return $.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{$(a.current).DataTable().clear(),$(a.current).DataTable().rows.add(Object.values(e.span)),$(a.current).DataTable().draw(!1)}catch(t){}}),[e.span]),Object(c.useEffect)((function(){$(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No MAC Addresses Found"},columns:[{data:"name"},{data:"cost"},{data:"port-priority"},{data:"role"},{data:"state"},{data:"forward-transitions"},{data:"link-type"}]})}catch(a){}}(a.current,e.span)}),[]),Object(w.jsx)(x.a,{bg:"dark",className:"border-bottom",children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)(y.a,{xl:12,children:Object(w.jsx)(x.a.Title,{className:"mb-3",children:e.span.instance})})}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(y.a,{xl:2,children:[Object(w.jsx)("p",{className:"card-text",children:"Hello:"}),Object(w.jsx)("p",{className:"card-text",children:"Fwd-Delay:"}),Object(w.jsx)("p",{className:"card-text",children:"Hold Count:"}),Object(w.jsx)("p",{className:"card-text",children:"Bridge Prio.:"}),Object(w.jsx)("p",{className:"card-text",children:"Bridge Add.:"}),Object(w.jsx)("p",{className:"card-text",children:"Des. Root Prio.:"}),Object(w.jsx)("p",{className:"card-text",children:"Des. Root Add.:"}),Object(w.jsx)("p",{className:"card-text",children:"Root Port:"}),Object(w.jsx)("p",{className:"card-text",children:"Root Cost:"}),Object(w.jsx)("p",{className:"card-text",children:"Hold Time:"}),Object(w.jsx)("p",{className:"card-text",children:"Topology Changes:"}),Object(w.jsx)("p",{className:"card-text",children:"Last Change:"})]}),Object(w.jsxs)(y.a,{xl:2,children:[Object(w.jsx)("p",{className:"card-text",children:e.span["hello-time"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["forwarding-delay"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["hold-count"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["bridge-priority"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["bridge-address"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["designated-root-priority"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["designated-root-address"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["root-port"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["root-cost"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["hold-time"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["topology-changes"]}),Object(w.jsx)("p",{className:"card-text",children:e.span["time-of-last-topology-change"]})]}),Object(w.jsx)(y.a,{xl:8,children:U(n,"Ports")})]})]})})}$.DataTable=a(31);var te=a(25);function ae(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{className:"col-12",children:Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{style:{textAlign:"center"},children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"vlans"}),Object(w.jsx)("th",{children:"Status"}),Object(w.jsx)("th",{children:"MbpsOut"}),Object(w.jsx)("th",{children:"MbpsIn"})]})})})})}));return console.log(e.ports,"yes"),Object(c.useEffect)((function(){if(null!==a.current)try{te(a.current).DataTable().clear(),te(a.current).DataTable().rows.add(Object.values(e.ports)),te(a.current).DataTable().draw(!1)}catch(t){}}),[e.ports]),Object(c.useEffect)((function(){te(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No Trunks Configured"},columns:[{data:"interface"},{data:"vlans"},{data:"status"},{data:"mbpsOut"},{data:"mbpsIn"}],fnRowCallback:function(e,t){try{"down"!==t.status?(S("td:eq(2)",e).html("up"),S("td:eq(2)",e).addClass("env-row-text")):(S("td:eq(2)",e).html("down"),S("td:eq(2)",e).addClass("env-row-text-warn"))}catch(a){}}})}catch(a){}}(a.current,e.ports)}),[]),n}te.DataTable=a(31);var ce=a(25);function re(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{style:{textAlign:"center"},children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"vlan"}),Object(w.jsx)("th",{children:"Status"}),Object(w.jsx)("th",{children:"MbpsOut"}),Object(w.jsx)("th",{children:"MbpsIn"})]})})})}));return ce.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{ce(a.current).DataTable().clear(),ce(a.current).DataTable().rows.add(Object.values(e.ports)),ce(a.current).DataTable().draw(!1)}catch(t){}}),[e.ports]),Object(c.useEffect)((function(){ce(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No Access Ports Assigned"},columns:[{data:"interface"},{data:"vlan"},{data:"status"},{data:"mbpsOut"},{data:"mbpsIn"}],fnRowCallback:function(e,t){try{"up"===t.status?(S("td:eq(2)",e).html("up"),S("td:eq(2)",e).addClass("env-row-text")):(S("td:eq(2)",e).html("down"),S("td:eq(2)",e).addClass("env-row-text-warn"))}catch(a){}}})}catch(a){}}(a.current,e.ports)}),[]),n}ce.DataTable=a(31);var ne=a(25);function se(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{className:"col-12",children:Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{style:{textAlign:"center"},children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"ID Int."}),Object(w.jsx)("th",{children:"Status"}),Object(w.jsx)("th",{children:"Interfaces"})]})})})})}));return Object(c.useEffect)((function(){ne(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No Vlans Configured"},columns:[{data:"id"},{data:"name"},{data:"status"},{data:"interfaces"}]})}catch(a){}}(a.current,e.vlans)}),[]),n}function le(){var e=Object(c.useRef)(!1),t=Object(m.c)(it),a=Object(d.a)(t,1)[0],r=G.AES.decrypt(localStorage.getItem("password"),a),n=Object(j.a)(localStorage.getItem("ip")+"pollL2Page",Object(o.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,O.a.post("/pollL2Page",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:r.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:a=t.sent,console.log(a);try{e.current=N(a.data.globalSpan)}catch(c){}return t.abrupt("return",a.data);case 6:case"end":return t.stop()}}),t)}))),{refetchInterval:5e3}),s=n.isLoading,l=n.error,p=n.data,f=n.isFetching;return l?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:p,ip:localStorage.getItem("ip"),fetchingStatus:f})}),Object(w.jsx)("h4",{classname:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{classname:"warning-loader text-center"})]}):p?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:p,ip:localStorage.getItem("ip"),fetchingStatus:f,cpu:p.cpu,mem:p.mem})}),Object(w.jsxs)("div",{children:[Object(w.jsx)(x.a,{bg:"dark",className:"mb-3",children:Object(w.jsx)(x.a.Body,{children:Object(w.jsxs)(b.a,{defaultActiveKey:"globalvlan",id:"spanningtre",bg:"success",children:[Object(w.jsx)(h.a,{eventKey:"globalvlan",title:"Global Setting",children:e.current}),p.span.hasOwnProperty.key?Object(w.jsx)(h.a,{eventKey:"pervlan",title:"Spanning Tree",children:p.span.map((function(e){return Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:Object(w.jsx)(ee,{span:e})})}))}):Object(w.jsx)("div",{})]})})}),Object(w.jsx)(v.a,{children:Object(w.jsx)(y.a,{xl:12,children:U(Object(w.jsx)(L,{dpNeighbors:p.dpNeighbors}))})}),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(y.a,{xl:7,children:p.vlans.length>0?U(Object(w.jsx)(se,{vlans:p.vlans}),"Vlans"):Object(w.jsx)("div",{})}),Object(w.jsxs)(y.a,{xl:5,children:[Object(w.jsx)(v.a,{children:p.trunks.length>0?U(Object(w.jsx)(ae,{ports:p.trunks}),"Trunks"):Object(w.jsx)("div",{})}),Object(w.jsx)(v.a,{children:p.access.length>0?U(Object(w.jsx)(re,{ports:p.access}),"Access Ports"):Object(w.jsx)("div",{})}),Object(w.jsx)(v.a,{children:p.mac_addresses.length>0?U(Object(w.jsx)(Z,{macs:p.mac_addresses}),"MAC-Addresses"):Object(w.jsx)("div",{})})]})]})]})]}):s?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}ne.DataTable=a(31);var ie=a(78),oe=a.n(ie),de=a(25);function je(e){Object(c.useRef)(null);var t,a=Object(c.useRef)(null),n=r.a.createRef(),s=r.a.createRef(),l=(t=s,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Total"}),Object(w.jsx)("th",{children:"Used"}),Object(w.jsx)("th",{children:"Used%"}),Object(w.jsx)("th",{children:"Free"}),Object(w.jsx)("th",{children:"Free%"}),Object(w.jsx)("th",{children:"Used Avl."}),Object(w.jsx)("th",{children:"Used Avl%"})]})})})})),i=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Run Time"}),Object(w.jsx)("th",{children:"Avg-run-time"}),Object(w.jsx)("th",{children:"Five-seconds"}),Object(w.jsx)("th",{children:"One-minute"}),Object(w.jsx)("th",{children:"Five-minutes"})]})})})})}(n);if(de.fn.dataTable.ext.errMode="none",parseInt(e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["five-seconds"])>25||"Healthy"!==e.mem["memory-status"]?a.current={color:"orange",textAlign:"center",fontSize:40}:a.current={color:"greenyellow",textAlign:"center",fontSize:40},Object(c.useEffect)((function(){try{de(n.current).DataTable().clear(),de(n.current).DataTable().rows.add(e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["cpu-usage-processes"]["cpu-usage-process"]),de(n.current).DataTable().draw(!1),de(s.current).DataTable().clear(),de(s.current).DataTable().rows.add(e.mem)}catch(t){}}),[e.cpu,e.mem]),Object(c.useEffect)((function(){de(n.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No CPU Processes Found"},columns:[{data:"name"},{data:"total-run-time"},{data:"avg-run-time"},{data:"five-seconds"},{data:"one-minute"},{data:"five-minutes"}],fnRowCallback:function(e,t){try{parseFloat(t["five-seconds"])>25&&S("td:eq(3)",e).addClass("env-row-text-warn"),parseFloat(t["one-minute"])>25&&S("td:eq(4)",e).addClass("env-row-text-warn"),parseFloat(t["five-minutes"])>25&&S("td:eq(5)",e).addClass("env-row-text-warn")}catch(a){}}})}catch(a){}}(n.current,e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["cpu-usage-processes"]["cpu-usage-process"]),de(s.current).DataTable().destroy(),function(e,t){try{S(e).DataTable().destroy(),S(e).DataTable({language:{emptyTable:"No CPU Processes Found"},data:[t],columns:[{data:"total"},{data:"used-number"},{data:"used-percent"},{data:"free-number"},{data:"free-percent"},{data:"available-number"},{data:"available-percent"}]})}catch(a){}}(s.current,e.mem)}),[]),"navbar"!==e.from)return Object(w.jsxs)("div",{children:[Object(w.jsx)(x.a,{bg:"dark",className:"mb-3",children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(x.a.Title,{className:"mb-3",children:"CPU/Memory"}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(y.a,{xl:3,children:[Object(w.jsx)("h5",{className:"text-center",children:"Five Sec"}),Object(w.jsx)(oe.a,{maxValue:100,value:e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["five-seconds"],needleColor:"red",startColor:"green",segments:10,width:200,height:150,ringWidth:30,textColor:"white",endColor:"red"})]}),Object(w.jsxs)(y.a,{xl:3,children:[Object(w.jsx)("h5",{className:"text.center",children:"One Min"}),Object(w.jsx)(oe.a,{maxValue:100,value:e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["one-minute"],needleColor:"red",startColor:"green",segments:10,width:200,height:150,ringWidth:30,textColor:"white",endColor:"red"})]}),Object(w.jsxs)(y.a,{xl:3,children:[Object(w.jsx)("h5",{className:"text.center",children:"Five Min"}),Object(w.jsx)(oe.a,{maxValue:100,value:e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["five-minutes"],needleColor:"red",startColor:"green",segments:10,width:200,height:150,ringWidth:30,textColor:"white",endColor:"red"})]}),Object(w.jsxs)(y.a,{xl:3,children:[Object(w.jsx)("h5",{className:"text.center",children:"Memory"}),Object(w.jsx)(oe.a,{maxValue:100,value:e.mem["used-percent"],needleColor:"red",startColor:"green",segments:10,width:200,height:150,ringWidth:30,textColor:"white",endColor:"red"})]})]})]})}),U(l,"Memory Statistics"),U(i,"CPU Processes")]});e.cpu["Cisco-IOS-XE-process-cpu-oper:cpu-utilization"]["five-seconds"],e.mem["used-percent"]}de.DataTable=a(31);var be=a(25);function he(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Location"}),Object(w.jsx)("th",{children:"State"}),Object(w.jsx)("th",{children:"Current"}),Object(w.jsx)("th",{children:"Meas."})]})})})}));return be.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{be(a.current).DataTable().clear(),be(a.current).DataTable().rows.add(Object.values(e.env)),be(a.current).DataTable().draw(!1)}catch(t){}}),[e.env]),Object(c.useEffect)((function(){var t,c;be(a.current).DataTable().destroy(),t=a.current,c=e.env,S(t).DataTable({language:{emptyTable:"No Environment Detected"},data:c,columns:[{data:"name"},{data:"location"},{data:"state"},{data:"current-reading"},{data:"sensor-units"}],fnRowCallback:function(e,t){try{"Normal"===t.state||"GREEN"===t.state?(S("td:eq(2)",e).addClass("env-row-text"),S("td:eq(3)",e).addClass("env-row-text")):t.state.includes("Fan")||"Normal"===t.state&&"GREEN"!==t.state||(S(e).addClass("env-row-text-warn"),S(e).addClass("env-row-text-warn"))}catch(a){}}})}),[]),n}be.DataTable=a(31);var ue=a(25);function xe(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"Poe Enabled"}),Object(w.jsx)("th",{children:"Consumed Power"}),Object(w.jsx)("th",{children:"PD Class"})]})})})}));return ue.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{ue(a.current).DataTable().clear(),ue(a.current).DataTable().rows.add(Object.values(e.poeprops.poe)),ue(a.current).DataTable().rows.add(Object.values(e.poe)),ue(a.current).DataTable().draw(!1)}catch(t){}}),[e.poe]),Object(c.useEffect)((function(){ue(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"No PoE Ports"},data:t,columns:[{data:"intf-name"},{data:"poe-intf-enabled"},{data:"power-used"},{data:"pd-class"}]})}catch(a){}}(a.current,e.poe)}),[]),n}ue.DataTable=a(31);var pe=a(25);function Oe(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"IsFault"}),Object(w.jsx)("th",{children:"Temp"}),Object(w.jsx)("th",{children:"Connector Type"}),Object(w.jsx)("th",{children:"Speed"}),Object(w.jsx)("th",{children:"Power out"}),Object(w.jsx)("th",{children:"Power In"}),Object(w.jsx)("th",{children:"Laser Bias"})]})})})}));return pe.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{pe(a.current).DataTable().clear(),pe(a.current).DataTable().rows.add(e.transceivers),pe(a.current).DataTable().draw(!1)}catch(t){}}),[e.transceivers]),Object(c.useEffect)((function(){pe(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"No Environment Detected"},data:t,columns:[{data:"name"},{data:"fault-condition"},{data:"internal-temp"},{data:"connector"},{data:"ethernet-pmd"},{data:"output-power.instant"},{data:"input-power.instant"},{data:"laser-bias-current.instant"}],fnRowCallback:function(e,t){try{S("td:eq(3)",e).html(t.connector.replace("connector"," ")),S("td:eq(4)",e).html(t["ethernet-pmd"].replace("SFP"," ")),!1===t["fault-condition"]?S("td:eq(1)",e).addClass("env-row-text"):"true"===t["fault-condition"]&&S(e).addClass("env-row-text-warn blinking")}catch(a){}}})}catch(a){}}(a.current,e.transceivers)}),[]),n}pe.DataTable=a(31);var me=a(25);function ge(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Interfaces"}),Object(w.jsx)("th",{children:"Serial"}),Object(w.jsx)("th",{children:"Connector Type"}),Object(w.jsx)("th",{children:"Vender"})]})})})}));return me.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{me(a.current).DataTable().clear(),me(a.current).DataTable().rows.add(e.transceivers),me(a.current).DataTable().draw(!1)}catch(t){}}),[e.transceivers]),Object(c.useEffect)((function(){me(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"No Environment Detected"},data:t,columns:[{data:"name"},{data:"serial-no"},{data:"connector"},{data:"vendor"}],fnRowCallback:function(e,t){try{S("td:eq(2)",e).html(t.connector.replace("connector"," "))}catch(a){}}})}catch(a){}}(a.current,e.transceivers)}),[]),n}function fe(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"pollEnv",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/pollEnv",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:1e4}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return n?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l})}),Object(w.jsx)("h4",{classname:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{classname:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})})}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(y.a,{xl:8,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:Object(w.jsx)(je,{cpu:s.cpu,mem:s.mem})}),U(Object(w.jsx)(Oe,{transceivers:s.transceivers}),"SFP Statuses")]}),Object(w.jsxs)(y.a,{xl:4,children:[U(Object(w.jsx)(he,{env:s.env}),"Environmental Stats"),U(Object(w.jsx)(xe,{poe:s.poe}),"Poe Interface"),U(Object(w.jsx)(ge,{transceivers:s.transceivers}),"SFP Inventory")]})]})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}me.DataTable=a(31);var ve={size:15,strokeWidth:0,color:"white"},ye={enabled:!0},we={size:16,color:"white"},Ne={nodes:{shape:"image",image:C,size:35,color:{border:"black",background:"#166F20",highlight:{border:"#2B7CE9",background:"#D2E5FF"}}},layout:{randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!0,levelSeparation:500,treeSpacing:150,edgeMinimization:!0,parentCentralization:!0,direction:"LR",sortMethod:"hubsize",shakeTowards:"roots"}},physics:{enabled:!0,hierarchicalRepulsion:{centralGravity:0,springLength:0,springConstant:.01,nodeDistance:200,damping:1,avoidOverlap:1}}};var Se=a(25);function Te(e){var t,a=r.a.createRef(),n=r.a.createRef(),s=r.a.createRef(),l=Object(c.useRef)(null),i=(t=n,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Net Type"}),Object(w.jsx)("th",{children:"Area"}),Object(w.jsx)("th",{children:"BDR"}),Object(w.jsx)("th",{children:"DR"}),Object(w.jsx)("th",{children:"Cost"}),Object(w.jsx)("th",{children:"Dead Int."}),Object(w.jsx)("th",{children:"Hello In."}),Object(w.jsx)("th",{children:"Hello Timer"}),Object(w.jsx)("th",{children:"Priority"}),Object(w.jsx)("th",{children:"Neighbor ID"}),Object(w.jsx)("th",{children:"Address"}),Object(w.jsx)("th",{children:"State"}),Object(w.jsx)("th",{children:"DR"}),Object(w.jsx)("th",{children:"bdr"})]})})})}));return Se.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current){try{Se(n.current).DataTable().clear(),Se(n.current).DataTable().rows.add(Object.values(e.interfaces)),Se(n.current).DataTable().draw(!1)}catch(i){}try{e.topology.length>=1&&(l.current=(t=l.current,c=e.neighbors,r=e.topology,Object.entries(c).forEach((function(e,a){"ospf-nbr-full"===e[1].state?t.body.data.edges.update({id:e[1]["neighbor-id"],from:r[1],to:e[1]["neighbor-id"],color:"green",label:e[1].state,font:ve,arrows:{to:ye,from:ye}}):t.body.data.edges.update({id:e[1]["neighbor-id"],from:r[1],to:e[1]["neighbor-id"],color:"yellow",label:e[1].state,font:ve,arrows:{to:ye,from:ye}})})),t),s.current=l.current)}catch(o){}}var t,c,r}),[e.neighbors]),Object(c.useEffect)((function(){!function(e,t){try{S(e).DataTable({data:t,language:{emptyTable:"No OSPF Interfaces Found"},columns:[{data:"name"},{data:"network-type"},{data:"area"},{data:"bdr"},{data:"dr"},{data:"cost"},{data:"dead-interval"},{data:"hello-interval"},{data:"hello-timer"},{data:"priority"},{data:"neighbor-state.neighbor-id"},{data:"neighbor-state.address"},{data:"neighbor-state.state"},{data:"neighbor-state.dr"},{data:"neighbor-state.bdr"}],fnRowCallback:function(e,t){try{"ospf-nbr-full"===t["neighbor-states"].state||"ospf-nbr-two-way"===t["neighbor-state"].state?S("td:eq(12)",e).addClass("env-row-text"):S(e).addClass("env-row-text-warn blinking")}catch(a){console.log(a)}}})}catch(a){}}(n.current,e.interfaces);try{e.interfaces.length>=1&&(l.current=function(e,t,a){var c=[],r=[];c.push({id:a[1],label:a[1],font:we}),Object.entries(a[0]).forEach((function(e,t){c.push({id:e[0],label:e[0],font:we})})),Object.entries(t).forEach((function(e,t){"ospf-nbr-full"===e[1].state?r.push({id:e[1]["neighbor-id"],from:a[1],to:e[1]["neighbor-id"],color:"green",label:e[1].state+"\nArea: "+e[1].area,font:ve,arrows:{to:ye,from:ye}}):r.push({id:e[1]["neighbor-id"],from:a[1],to:e[1]["neighbor-id"],color:"yellow",label:e[1].state+"\nArea: "+e[1].area,font:ve,arrows:{to:{arrowEnabled:ye},from:{arrowEnabled:ye}}})}));var n={nodes:c,edges:r};return console.log(e),new E.Network(e,n,Ne)}(s.current,e.neighbors,e.topology),s.current=l.current)}catch(t){}}),[]),Object(w.jsxs)(x.a,{bg:"dark",children:[Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(x.a.Title,{className:"mb-3",children:"OSPF Interfaces/Neighbors"}),i]}),Object(w.jsx)(v.a,{children:Object(w.jsx)(y.a,{children:e.interfaces.length>=1?Object(w.jsx)("div",{ref:s,className:"bg-dark  mt-3",style:{width:"100%",height:"300px"}}):Object(w.jsx)("div",{})})})]})}Se.DataTable=a(31);var Ie=a(25);function De(e){var t,a=r.a.createRef(),n=r.a.createRef(),s=Object(c.useRef)(null),l=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"ID"}),Object(w.jsx)("th",{children:"Remote AS"}),Object(w.jsx)("th",{children:"Uptime"}),Object(w.jsx)("th",{children:"State"}),Object(w.jsx)("th",{children:"Prefixes Rec."}),Object(w.jsx)("th",{children:"Prefixes Sent"}),Object(w.jsx)("th",{children:"Installed Prefixes"}),Object(w.jsx)("th",{children:"Local Port"}),Object(w.jsx)("th",{children:"Remote Port"})]})})})}));return Ie.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current){try{Ie(a.current).DataTable().clear(),Ie(a.current).DataTable().rows.add(e.neighbors),Ie(a.current).DataTable().draw(!1)}catch(l){}try{s.current=(t=s.current,c=e.neighbors,r=e.details[2],Object.entries(c).forEach((function(e,a){"established"===e[1].state?t.body.data.edges.update({id:e[1]["neighbor-id"],from:r,to:e[1]["neighbor-id"],label:e[1].state,color:"green",font:ve,arrows:{to:ye,from:ye}}):t.body.data.edges.update({id:e[1]["neighbor-id"],from:r,to:e[1]["neighbor-id"],color:"yellow",label:e[1].state,font:ve,arrows:{to:ye,from:ye}})})),t),n.current=s.current}catch(i){}}var t,c,r}),[e.neighbors]),Object(c.useEffect)((function(){var t,c;Ie(a.current).DataTable().destroy(),t=a.current,c=e.neighbors,S(t).DataTable({data:c,language:{emptyTable:"No BGP Neighbors"},columns:[{data:"remote-ip"},{data:"remote-as"},{data:"last-reset"},{data:"state"},{data:"received-prefixes"},{data:"prefixes-sent"},{data:"installed-prefixes"},{data:"local-port"},{data:"remote-port"}],fnRowCallback:function(e,t){try{"established"!==t.state?S(e).addClass("env-row-text-warn blinking"):(S("td:eq(2)",e).addClass("env-row-text"),S("td:eq(3)",e).addClass("env-row-text"))}catch(a){console.log(a)}}});try{e.neighbors.length>=1&&(s.current=function(e,t,a,c,r,n){var s=[],l=[];s.push({id:c,label:c+"\nAS: "+a,font:we}),Object.entries(n).forEach((function(e,t){s.push({id:e[0],label:e[0]+"\nAS: "+e[1],font:we})})),Object.entries(t).forEach((function(e,t){"established"===e[1].state?l.push({id:e[1]["neighbor-id"],from:c,to:e[1]["neighbor-id"],color:"green",label:e[1].state,font:ve,arrows:{to:ye,from:ye}}):l.push({id:e[1]["neighbor-id"],from:c,to:e[1]["neighbor-id"],color:"yellow",label:e[1].state,font:ve,arrows:{to:ye,from:ye}})}));var i={nodes:s,edges:l};return new E.Network(e,i,Ne)}(n.current,e.neighbors,e.details[0],e.details[2],e.details[5],e.topology),n.current=s.current)}catch(r){}}),[]),0!==e.neighbors.length?Object(w.jsxs)(v.a,{children:[Object(w.jsx)(y.a,{lg:4,children:Object(w.jsx)(x.a,{bg:"dark",children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsxs)(x.a.Title,{className:"mb-3",children:["Local AS: ",e.details[0]]}),Object(w.jsxs)(v.a,{children:[Object(w.jsxs)(y.a,{lg:6,children:[Object(w.jsx)("p",{className:"card-text",children:"Vrf-Name:"}),Object(w.jsx)("p",{className:"card-text",children:"Router-Id:"}),Object(w.jsx)("p",{className:"card-text",children:"BGP Table Ver.:"}),Object(w.jsx)("p",{className:"card-text",children:"Routing Table Ver.:"}),Object(w.jsx)("p",{className:"card-text",children:"Total Prefixes:"}),Object(w.jsx)("p",{className:"card-text",children:"Path Entries:"}),Object(w.jsx)("p",{className:"card-text",children:"AS Path Ent."}),Object(w.jsx)("p",{className:"card-text",children:"Route-Map Ent."}),Object(w.jsx)("p",{className:"card-text",children:"Filter-List Ent.:"}),Object(w.jsx)("p",{className:"card-text",children:"Total Memory:"})]}),Object(w.jsxs)(y.a,{xl:6,children:[Object(w.jsx)("p",{className:"card-text",children:e.details[1]}),Object(w.jsx)("p",{className:"card-text",children:e.details[2]}),Object(w.jsx)("p",{className:"card-text",children:e.details[3]}),Object(w.jsx)("p",{className:"card-text",children:e.details[4]}),Object(w.jsx)("p",{className:"card-text",children:e.details[5]}),Object(w.jsx)("p",{className:"card-text",children:e.details[7]}),Object(w.jsx)("p",{className:"card-text",children:e.details[9]}),Object(w.jsx)("p",{className:"card-text",children:e.details[11]}),Object(w.jsx)("p",{className:"card-text",children:e.details[13]}),Object(w.jsx)("p",{className:"card-text",children:e.details[19]})]})]})]})})}),Object(w.jsxs)(y.a,{lg:8,children:[Object(w.jsx)(v.a,{children:U(l,"BGP Neighbors")}),Object(w.jsx)(v.a,{children:Object(w.jsx)("div",{ref:n,className:"bg-dark",style:{width:"1500px",height:"300px"}})})]})]}):Object(w.jsx)("div",{className:"card text-white bg-dark ",children:Object(w.jsxs)("div",{className:"card-body",children:[Object(w.jsx)("h4",{classname:"card-title mb-3",children:"BGP Neighbors"}),l]})})}function ke(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"pollRouting",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/pollRouting",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:5e3}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return n?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l})}),Object(w.jsx)("h4",{classname:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{classname:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})}),Object(w.jsx)(v.a,{className:"mb-3",children:Object(w.jsx)(y.a,{xl:!0,children:Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(Te,{neighbors:s.ospf,interfaces:s.ospfInts,topology:s.ospfTopology})})})}),Object(w.jsx)(v.a,{className:"mb-3 mt-3",children:Object(w.jsx)(y.a,{xl:!0,children:Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(De,{neighbors:s.bgp,details:s.bgpDetails,topology:s.bgpTopology})})})})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}Ie.DataTable=a(31);var Ce={size:18,strokeWidth:0,color:"white"},Ee={size:18,strokeWidth:0,color:"orange"},Pe={size:16,color:"white"},Re={nodes:{shape:"image",image:C,size:35,color:{border:"black",background:"#166F20",highlight:{border:"#2B7CE9",background:"#D2E5FF"}}},layout:{randomSeed:void 0,improvedLayout:!0,clusterThreshold:200,hierarchical:{enabled:!0,levelSeparation:500,treeSpacing:300,edgeMinimization:!0,parentCentralization:!0,direction:"DU",sortMethod:"hubsize",shakeTowards:"roots"}},physics:{enabled:!0,hierarchicalRepulsion:{centralGravity:0,springLength:0,springConstant:.01,nodeDistance:250,damping:1,avoidOverlap:1}}};var Ae=a(25);function Me(e){var t,a=r.a.createRef(),n=r.a.createRef(),s=Object(c.useRef)(null),l=(t=n,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark row-text",style:{width:"100%"},children:Object(w.jsx)("thead",{classname:"thead-light",children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Peer NBMA"}),Object(w.jsx)("th",{children:"Peer Tunnel"}),Object(w.jsx)("th",{children:"State"}),Object(w.jsx)("th",{children:"Up Time"}),Object(w.jsx)("th",{children:"Attribute"})]})})})})),i=r.a.createRef(),o=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"Source"}),Object(w.jsx)("th",{children:"MTU"}),Object(w.jsx)("th",{children:"MSS"}),Object(w.jsx)("th",{children:"Mode"}),Object(w.jsx)("th",{children:"Authentication"}),Object(w.jsx)("th",{children:"HoldTime"}),Object(w.jsx)("th",{children:"Protection"}),Object(w.jsx)("th",{children:"Network ID"})]})})})})}(i),d=r.a.createRef(),j=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Interface"}),Object(w.jsx)("th",{children:"Status"}),Object(w.jsx)("th",{children:"Description"}),Object(w.jsx)("th",{children:"IP"}),Object(w.jsx)("th",{children:"Mask"}),Object(w.jsx)("th",{children:"Speed"}),Object(w.jsx)("th",{children:"Trans Band"}),Object(w.jsx)("th",{children:"RecieveBand"})]})})})})}(d),b=r.a.createRef(),h=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"NBMA"}),Object(w.jsx)("th",{children:"IP"})]})})})})}(b),p=r.a.createRef(),O=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"IP"}),Object(w.jsx)("th",{children:"Country Code"}),Object(w.jsx)("th",{children:"City"}),Object(w.jsx)("th",{children:"Contenent Code"}),Object(w.jsx)("th",{children:"Latitude"}),Object(w.jsx)("th",{children:"Longitude"}),Object(w.jsx)("th",{children:"Organization"}),Object(w.jsx)("th",{children:"ASN"}),Object(w.jsx)("th",{children:"TimeZone"})]})})})})}(p);return Ae.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==n.current){try{Ae(n.current).DataTable().clear(),Ae(n.current).DataTable().rows.add(Object.values(e.dmvpn)),Ae(n.current).DataTable().draw(!1)}catch(l){}try{Ae(d.current).DataTable().clear(),Ae(d.current).DataTable().rows.add(Object.values(e.dmvpnInts[1])),Ae(d.current).DataTable().draw(!1)}catch(o){}try{Ae(i.current).DataTable().clear(),Ae(i.current).DataTable().rows.add(Object.values(e.dmvpnInts[2])),Ae(i.current).DataTable().draw(!1)}catch(j){}try{Ae(b.current).DataTable().clear(),Ae(b.current).DataTable().rows.add(Object.values(e.hubs)),Ae(b.current).DataTable().draw(!1)}catch(h){}try{0!==e.locations.length&&(Ae(p.current).DataTable().clear(),Ae(p.current).DataTable().rows.add(Object.values(e.locations)),Ae(p.current).DataTable().draw(!1))}catch(u){}try{s.current=(t=a.current,c=e.dmvpn,Object.entries(c).forEach((function(e,a){"UP"!==e[1].state?t.body.data.edges.push({id:e[1].peerNbma,from:r,to:a,color:"yellow",label:e[1].state+"\n"+e[1].peerTunnel+"\n"+e[1].attrb,font:Ce}):t.body.data.edges.push({id:e[1].vlanInt,from:r,to:a,color:"green",label:e[1].state+"\n"+e[1].peerTunnel+"\n"+e[1].attrb,font:Ce})})),t),a.current=s.current}catch(x){}}var t,c,r}),[e.dmvpn]),Object(c.useEffect)((function(){Ae(b.current).DataTable().destroy(),Ae(b.current).DataTable({data:e.hubs,language:{emptyTable:"No DMVPN Hubs Found"},columns:[{data:"hubNbma"},{data:"tunnel"}]}),Ae(n.current).DataTable().destroy(),Ae(n.current).DataTable({data:e.dmvpn,language:{emptyTable:"No DMVPN Topology Found"},columns:[{data:"peerNbma"},{data:"peerTunnel"},{data:"state"},{data:"upTime"},{data:"attrb"}]});try{e.dmvpn.length>=1&&(s.current=function(e,t,a,c){var r=[],n=[];return r.push({id:a,label:"Local\n"+a,font:Pe}),Object.entries(t).forEach((function(e,t){if(c.some((function(t){return t.hubNbma===e[1].peerNbma}))){var a=e[1].peerNbma+": Hub";r.push({id:e[0],label:a,font:Ee})}else{var n=e[1].peerNbma+": Spoke";r.push({id:e[0],label:n,font:Ce})}})),Object.entries(t).forEach((function(e,t){"UP"!==e[1].state?n.push({id:e[1].peerNbma,from:a,to:t,color:"yellow",label:e[1].state+"\n"+e[1].peerTunnel+"\n"+e[1].attrb,font:Ce}):n.push({id:e[1].peerNbma,from:a,to:t,color:"green",label:e[1].state+"\n"+e[1].peerTunnel+"\n"+e[1].attrb,font:Ce})})),new E.Network(e,{nodes:r,edges:n},Re)}(a.current,e.dmvpn,e.localIp,e.hubs),a.current=s.current)}catch(t){}Ae(i.current).DataTable().destroy(),Ae(i.current).DataTable({data:e.dmvpnInts[2],language:{emptyTable:"No DMVPN Topology Found"},columns:[{data:"name"},{data:"source"},{data:"mtu"},{data:"mss"},{data:"mode"},{data:"authentication"},{data:"holdtime"},{data:"protection"},{data:"network-id"}]}),Ae(p.current).DataTable().destroy(),Ae(p.current).DataTable({data:e.locations,language:{emptyTable:"You May Have Reached IPAPI Query Limits"},columns:[{data:"ip"},{data:"country_code"},{data:"city"},{data:"continent_code"},{data:"latitude"},{data:"longitude"},{data:"org"},{data:"asn"},{data:"timezone"}]});try{Ae(d.current).DataTable().destroy(),Ae(d.current).DataTable({data:e.dmvpnInts[1],language:{emptyTable:"No DMVPN Found"},columns:[{data:"name"},{data:"oper-status"},{data:"description"},{data:"ipv4"},{data:"ipv4-subnet-mask"},{data:"speed"},{data:"statistics.tx-kbps"},{data:"statistics.rx-kbps"}],fnRowCallback:function(e,t){try{Ae("td:eq(5)",e).html(1e3*Math.round(t.data.speed/1e9)),Ae("td:eq(5)",e).addClass()}catch(a){console.log(a)}}})}catch(c){}}),[]),0!==e.dmvpn.length?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(x.a,{bg:"dark",className:"mt-3 mb-3",children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(x.a.Title,{className:"mb-3",children:"DMVPN Peers"}),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(y.a,{xl:6,children:l}),Object(w.jsx)(y.a,{xl:6,children:Object(w.jsx)("div",{ref:a,className:"bg-dark",style:{width:"100%",height:"500px"}})})]})]})}),U(j,"Tunnel Interfaces"),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(y.a,{xl:8,children:U(o,"DMVPN Interfaces")}),Object(w.jsx)(y.a,{xl:4,children:U(h,"DMVPN Hubs")}),Object(w.jsx)(y.a,{xl:!0,children:U(O,"NBMA Assignments")})]}),Object(w.jsx)("div",{})]}):Object(w.jsx)(v.a,{children:Object(w.jsx)(y.a,{children:U(l,"DMVPN Interfaces")})})}function Fe(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"getDmvpn",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/getDmvpn",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:return t=e.sent,console.log(t.data),e.abrupt("return",t.data);case 5:case"end":return e.stop()}}),e)}))),{refetchInterval:2e4}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return n?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l})}),Object(w.jsx)("h4",{classname:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{classname:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})})}),Object(w.jsx)(v.a,{className:"mb-3",children:Object(w.jsx)(y.a,{xl:!0,children:Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:Object(w.jsx)(Me,{dmvpn:s.dmvpn,dmvpnInts:s.dmvpnInts,hubs:s.hubs,locations:s.location,routing:s.routing,localIp:localStorage.getItem("ip")})})})}),Object(w.jsx)(v.a,{className:"mb-3",children:Object(w.jsx)(y.a,{xl:!0,children:Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:s.dmvpn.length>0?Object(w.jsx)(Te,{neighbors:s.ospf,interfaces:s.ospfInts,topology:s.ospfTopology}):Object(w.jsx)("div",{})})})})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}function Be(e){var t=Object(c.useState)(!0),a=Object(d.a)(t,2),r=a[0],n=a[1];return Object(c.useEffect)((function(){Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){setTimeout((function(){e(O.a.post("/apistatus"))}),5e3)}));case 3:200===e.sent.status?n(!0):n(!1),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),n(!1);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()}),[e.update]),Object(w.jsx)(v.a,{xl:!0,className:"mt-3",children:Object(w.jsx)(_.a,{expand:"lg",children:Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(_.a.Brand,{href:"#home",className:"disabledCursor",children:"XE Ops"}),Object(w.jsx)(_.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(w.jsx)(_.a.Collapse,{id:"basic-navbar-nav",children:Object(w.jsxs)(X.a,{className:"me-auto",children:[Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/index",children:"Home"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/layerTwo",children:"LayerTwo"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/routing",children:"Routing"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/environment",children:"Env"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/dmvpn",children:"DMVPN"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/ipslas",children:"IP Slas"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/ribstatus",children:"RibStatus"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/live_interfaces",children:"Live-Interfaces"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/config",children:"Cfg/Oper"}),Object(w.jsx)(q.b,{className:"nav-link text-light",to:"/logout",children:"Logout"}),Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["\xa0\xa0\xa0\xa0|\xa0\xa0\xa0\xa0Connection: ",e.ip]}),r?Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["API Reachable: \xa0",Object(w.jsx)("span",{children:Object(w.jsx)("div",{className:"fa fa-circle env-row-text"})})]}):Object(w.jsx)(q.b,{className:" env-row-text-warn nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:Object(w.jsx)("span",{children:"API Unreachable"})}),e.fetchingStatus?Object(w.jsxs)(q.b,{className:"nav-link text-light disabledCursor",style:{fontWeight:"bold"},children:["Polling Status: \xa0\xa0",Object(w.jsx)("div",{className:"fa fa-circle env-row-text"})]}):Object(w.jsxs)(q.b,{className:"nav-link text-light",style:{fontWeight:"bold"},children:["Polling Status: \xa0\xa0",Object(w.jsx)("span",{children:Object(w.jsx)("div",{className:"fa fa-circle env-row-text-warn disabledCursor"})})]})]})})]})})})}function Le(e){var t=Object(m.c)(it),a=Object(d.a)(t,1)[0],r=G.AES.decrypt(localStorage.getItem("password"),a),n=Object(c.useState)(0),s=Object(d.a)(n,2),l=s[0],j=s[1],b=Object(c.useState)(void 0),h=Object(d.a)(b,2),u=h[0],x=h[1],p=Object(c.useState)(!1),g=Object(d.a)(p,2),f=g[0],v=g[1],y=Object(c.useRef)(void 0),N=Object(c.useRef)(!1),S=Object(c.useRef)([]),T=Object(c.useRef)([]),I=Object(c.useRef)("{PythonVar}"),D=Object(c.useRef)(!1),k=Object(c.useRef)(!1),C=Object(c.useRef)(!1),E=Object(c.useRef)(["Cisco-IOS-XE-arp-oper:arp-data","openconfig-platform-transceiver:transceiver","Cisco-IOS-XE-interfaces-oper:interfaces","Cisco-IOS-XE-native:native","Cisco-IOS-XE-process-cpu-oper:cpu-usage","Cisco-IOS-XE-platform-software-oper:cisco-platform-software","Cisco-IOS-XE-environment-oper:environment-sensors","openconfig-platform:components","Cisco-IOS-XE-ospf-oper:ospf-oper-data/ospf-state","Cisco-IOS-XE-matm-oper:matm-oper-data","Cisco-IOS-XE-spanning-tree-oper:stp-details","Cisco-IOS-XE-cdp-oper:cdp-neighbor-details","Cisco-IOS-XE-lldp-oper:lldp-entries","Cisco-IOS-XE-vlan-oper:vlans","Cisco-IOS-XE-bgp-oper:bgp-state-data","Cisco-IOS-XE-hsrp-oper:hsrp-oper-data"," Cisco-IOS-XE-matm-oper:matm-oper-data"]),P=function(){var e=Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:0!==S.current.length&&(1===S.current.length?(v(!0),O.a.post("/query",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:r.toString(G.enc.Utf8),port:443,url:y.current},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){I.current="{PythonVar}",S.current.push(y.current),C.current=JSON.parse(e.data.config),k.current=e.data.parent,D.current=e.data.data,v(!1)})).catch((function(e){N.current=!0,v(!1)}))):(t=S.current[S.current.length-2],v(!0),O.a.post("/query",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:r.toString(G.enc.Utf8),port:443,url:t},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(e){I.current=T.current[T.current.length-2],C.current=JSON.parse(e.data.config),k.current=e.data.parent,D.current=e.data.data,S.current.pop(),T.current.pop(),y.current=t,v(!1)})).catch((function(e){N.current=!0,v(!1)}))));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(e){v(!0),0!==l&&O.a.post("/query",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:r.toString(G.enc.Utf8),port:443,url:e},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){404===t.data.status?(alert("404 Not Found"),v(!1)):500===t.data.status?(alert("End of the road"),v(!1)):(S.current.push(e),C.current=JSON.parse(t.data.config),k.current=t.data.parent,D.current=t.data.data,y.current=e,v(!1))})).catch((function(e){N.current=!0,v(!1)}))},A=function(e){e.preventDefault(),I.current="{PythonVar}";var t="https://"+localStorage.getItem("ip")+":443/restconf/data/"+u;R(t)},M=function(e){console.log("ff"),x(e.target.value)};return Object(c.useEffect)((function(){0===l&&j(l+1)}),[]),void 0!==y.current?Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)(Be,{ip:localStorage.getItem("ip")}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-4",children:Object(w.jsx)("div",{className:"card text-white mt-3 bg-dark",children:Object(w.jsx)("div",{className:"card-body",children:Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("form",{onSubmit:A,children:[Object(w.jsxs)("div",{className:"form-group row",children:[Object(w.jsx)("h5",{children:" Model:"}),Object(w.jsx)("div",{className:"col-12",children:Object(w.jsxs)("select",{name:"model",value:u,onChange:M,children:[Object(w.jsx)("option",{children:"Select..."}),E.current.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))]})})]}),Object(w.jsx)("input",{type:"submit",value:"Submit",className:"btn btn-sm btn-primary mt-3"})]})})})})}),Object(w.jsx)("div",{className:"col-8",children:Object(w.jsx)("div",{className:"card text-white mt-3 bg-dark",children:Object(w.jsxs)("div",{className:"card-body",style:{textAlign:"left"},children:[Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-3",children:Object(w.jsx)("button",{style:{marginBottom:"15px",fontWeight:"bold"},className:"btn btn-success btn-md",onClick:function(e){return P(e)},children:"Previous URI"})})}),f?Object(w.jsx)("div",{className:"overlay",onclick:"off()",style:{display:"flex",justifyContent:"center"},children:Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{style:{marginTop:300},classname:"spinner"})})}):Object(w.jsx)("div",{}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("h5",{style:{color:"yellow",fontWeight:"bold"},children:"Current Path: "}),Object(w.jsx)("h5",{className:"fade-in",children:y.current},"currentpath")]}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("h5",{style:{color:"yellow",fontWeight:"bold"},children:"Python Path: "}),Object(w.jsx)("h5",{className:"fade-in",children:I.current},"currentpath")]}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-12",children:D.current.map((function(e,t){return Object(w.jsx)("button",{style:{marginRight:"3px"},className:"btn btn-success fade-in mb-3",onClick:function(t){return function(e){v(!0);var t=y.current+"/"+e;O.a.post("/query",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:r.toString(G.enc.Utf8),port:443,url:t},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(a){if(404===a.data.status){var c=D.current.indexOf(e),n=S.current[S.current.length-1]+"="+encodeURIComponent(e)+"/";O.a.post("/query",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:r.toString(G.enc.Utf8),port:443,url:n},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}}).then((function(t){500===t.data||404===t.status?(alert("No Data Returned"),v(!1)):(I.current=I.current+".get('"+e+"')",S.current.push(n),T.current.push(T.current+"["+c+"]"),C.current=JSON.parse(t.data.config),k.current=t.data.parent,D.current=t.data.data,y.current=n,v(!1))})).catch((function(e){N.current=!0,v(!1)}))}else 500===a.data.status||404===a.data.status?(alert("No Data Returned"),v(!1)):(I.current=I.current+".get('"+e+"')",T.current.push(I.current),S.current.push(t),C.current=JSON.parse(a.data.config),k.current=a.data.parent,D.current=a.data.data,y.current=t,v(!1))})).catch((function(e){N.current=!0,v(!1)}))}(e)},children:e},e+t)}))})}),Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{className:"col-12",children:Object(w.jsx)("pre",{className:"fade-in",style:{fontWeight:"bold",textAlign:"left"},children:JSON.stringify(C.current,null,2)},"test")})})]})})})]})]}):Object(w.jsxs)("div",{className:"container-fluid",children:[Object(w.jsx)(Be,{ip:localStorage.getItem("ip")}),Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("div",{className:"col-4",children:Object(w.jsx)("div",{className:"card text-white mt-3 bg-dark",children:Object(w.jsx)("div",{className:"card-body",children:Object(w.jsx)("div",{className:"row",children:Object(w.jsxs)("form",{onSubmit:A,children:[Object(w.jsxs)("div",{className:"form-group row",children:[Object(w.jsx)("h5",{children:" Model:"}),Object(w.jsx)("div",{className:"col-12",children:Object(w.jsxs)("select",{name:"model",value:u,onChange:M,children:[Object(w.jsx)("option",{children:"Select..."}),E.current.map((function(e){return Object(w.jsx)("option",{value:e,children:e},e)}))]})})]}),Object(w.jsx)("input",{type:"submit",value:"Submit",className:"btn btn-sm btn-primary mt-3"})]})})})})}),Object(w.jsx)("div",{className:"col-8",children:Object(w.jsx)("div",{clssName:"card bg-dark",children:Object(w.jsx)("div",{className:"card-body",children:f?Object(w.jsx)("div",{className:"overlay",onclick:"off()",style:{display:"flex",justifyContent:"center"},children:Object(w.jsx)("div",{className:"row",children:Object(w.jsx)("div",{style:{marginTop:300},classname:"spinner"})})}):Object(w.jsx)("div",{})})})})]})]})}Ae.DataTable=a(31);var qe=a(25);function ze(e){var t,a=r.a.createRef(),n=r.a.createRef(),s=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{id:"headr",children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Address-Family"}),Object(w.jsx)("th",{children:"Destination"}),Object(w.jsx)("th",{children:"Prefrence"}),Object(w.jsx)("th",{children:"Metric"}),Object(w.jsx)("th",{children:"Nex-Hop"}),Object(w.jsx)("th",{children:"Out Interface"}),Object(w.jsx)("th",{children:"Is Active"}),Object(w.jsx)("th",{children:"Source Protocol"})]})})})})),l=function(e){return Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:e,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Address-Family"}),Object(w.jsx)("th",{children:"Destination"}),Object(w.jsx)("th",{children:"Prefrence"}),Object(w.jsx)("th",{children:"Metric"}),Object(w.jsx)("th",{children:"Nex-Hop"}),Object(w.jsx)("th",{children:"Out Interface"}),Object(w.jsx)("th",{children:"Is Active"}),Object(w.jsx)("th",{children:"Source Protocol"})]})})})})}(n);return qe.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{qe(a.current).DataTable().clear(),qe(a.current).DataTable().rows.add(e.routes["ietf-routing:ipv4"]),qe(a.current).DataTable().draw(!1),qe(n.current).DataTable().clear(),qe(n.current).DataTable().rows.add(e.routes["ietf-routing:ipv6"]),qe(n.current).DataTable().draw(!1)}catch(t){}}),[e.routes]),Object(c.useEffect)((function(){qe(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"Rib Empty"},data:t,columns:[{data:"name"},{data:"address_family"},{data:"dest_prefix"},{data:"metric"},{data:"route_preference"},{data:"next_hop"},{data:"outgoing_interface"},{data:"active"},{data:"source_protocol"}]})}catch(a){}}(a.current,e.routes["ietf-routing:ipv4"]),qe(n.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"Rib Empty"},data:t,columns:[{data:"name"},{data:"address_family"},{data:"dest_prefix"},{data:"metric"},{data:"route_preference"},{data:"next_hop"},{data:"outgoing_interface"},{data:"active"},{data:"source_protocol"}]})}catch(a){}}(n.current,e.routes["ietf-routing:ipv6"])}),[]),Object(w.jsxs)(b.a,{defaultActiveKey:"ipv4",id:"uncontrolled-tab-example",className:"mt-3 mb-3",children:[Object(w.jsx)(h.a,{eventKey:"ipv4",title:"IPv4",children:s}),Object(w.jsx)(h.a,{eventKey:"ipv6",title:"IpV6",children:l})]})}qe.DataTable=a(31);var Ue=a(25);function We(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Destination"}),Object(w.jsx)("th",{children:"Nex-Hop"}),Object(w.jsx)("th",{children:"Out Interface"}),Object(w.jsx)("th",{children:"Source Protocol"}),Object(w.jsx)("th",{children:"TimeStamp"})]})})})}));return console.log(e.ribs),Object(c.useEffect)((function(){if(null!==a.current)try{Ue(a.current).DataTable().clear(),Ue(a.current).DataTable().rows.add(e.ribs),Ue(a.current).DataTable().draw(!1)}catch(t){}}),[e.ribs]),Object(c.useEffect)((function(){Ue(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"Rib Empty"},data:t,columns:[{data:"dest_prefix"},{data:"next_hop"},{data:"outgoing_interface"},{data:"source_protocol"},{data:"time"}],fnRowCallback:function(e,t){try{"green"===t.status?S(e).addClass("env-row-text"):"orange"===t.status&&S(e).addClass("env-row-text-warn")}catch(a){console.log(a)}}})}catch(a){}}(a.current,e.ribs)}),[]),n}Ue.DataTable=a(31);var Ve=a(25);function Xe(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"Protocol"}),Object(w.jsx)("th",{children:"ID"}),Object(w.jsx)("th",{children:"Name"}),Object(w.jsx)("th",{children:"Type"}),Object(w.jsx)("th",{children:"Interfaces"})]})})})}));return Object(c.useEffect)((function(){Ve(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable({language:{emptyTable:"Something Went Wrong"},data:t,columns:[{data:"protocol"},{data:"id"},{data:"name"},{data:"type"},{data:"interfaces"}]})}catch(a){}}(a.current,e.protocols)}),[]),n}function _e(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"ribStatus",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/ribStatus",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")},{headers:{Authorization:"Bearer "+localStorage.getItem("token")}});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:1e4}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return n?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l})}),Object(w.jsx)("h4",{classname:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{classname:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})}),U(Object(w.jsx)(ze,{routes:s.ribsEntries})),Object(w.jsxs)(v.a,{children:[Object(w.jsx)(y.a,{xl:6,children:U(Object(w.jsx)(Xe,{protocols:s.protocols}),"Protocols")}),Object(w.jsx)(y.a,{xl:6,children:U(Object(w.jsx)(We,{ribs:s.flaps.routes}),"Flapping Routes")})]})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}Ve.DataTable=a(31),a(25).DataTable=a(31);var He=a(33);function Ke(e){var t=Object(m.c)(it),a=Object(d.a)(t,1)[0],r=Object(c.useState)(!1),n=Object(d.a)(r,2),s=n[0],l=n[1],j=Object(c.useState)(""),b=Object(d.a)(j,2),h=b[0],p=b[1],O=Object(c.useState)(""),g=Object(d.a)(O,2),f=g[0],N=g[1],S=Object(c.useState)(""),T=Object(d.a)(S,2),I=T[0],D=T[1],k=Object(c.useState)(443),C=Object(d.a)(k,2),E=C[0],P=C[1],R=Object(c.useState)(!1),A=Object(d.a)(R,2),M=A[0],F=A[1],B=function(){var e=Object(o.a)(i.a.mark((function e(t){var c,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),localStorage.clear(),e.prev=2,e.next=5,W(h,f,I);case 5:c=e.sent,console.log(c),200===c.data.status?(r=G.AES.encrypt(I,a),localStorage.setItem("ip",h),localStorage.setItem("port",443),localStorage.setItem("username",f),localStorage.setItem("password",r.toString()),localStorage.setItem("model",c.data.model),localStorage.setItem("serial",c.data.serial),localStorage.setItem("uptime",c.data.uptime),localStorage.setItem("software",c.data.software),F(!0)):(alert("Login Failed"),l(!1)),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),alert("Login Failed"),l(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(t){return e.apply(this,arguments)}}();return M?M?Object(w.jsx)(He.a,{push:!0,to:{pathname:"/index"},from:"/login"}):void 0:Object(w.jsx)(u.a,{fluid:"xl",children:Object(w.jsxs)(v.a,{style:{alignItems:"center",display:"flex"},children:[Object(w.jsx)(y.a,{xl:4}),Object(w.jsx)(y.a,{xl:4,children:Object(w.jsx)(x.a,{style:{width:"30rem",marginTop:"100px"},children:Object(w.jsxs)(x.a.Body,{children:[Object(w.jsx)(x.a.Title,{style:{color:"black",textAlign:"center"},children:"IOS-XE Login"}),Object(w.jsx)("br",{}),s?Object(w.jsx)("div",{className:"overlay",onclick:"off()",style:{display:"flex",justifyContent:"center"},children:Object(w.jsxs)("div",{className:"row",children:[Object(w.jsx)("p",{}),Object(w.jsx)("div",{className:"spinner"})]})}):Object(w.jsx)("div",{}),Object(w.jsxs)("form",{onSubmit:B,children:[Object(w.jsx)("input",{type:"text",className:"form-control input-text",value:h,onChange:function(e){return p(e.target.value)},placeholder:"IP Address",name:"ipAddress",required:!0}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"text",className:"form-control input-text",value:f,onChange:function(e){return N(e.target.value)},placeholder:"Username",name:"username",required:!0}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"text",className:"form-control input-text",value:I,onChange:function(e){return D(e.target.value)},placeholder:"Password",name:"password",required:!0}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{type:"text",className:"form-control input-text",value:E,onChange:function(e){return P(e.target.value)},placeholder:"Default 443",name:"restconfPort"}),Object(w.jsx)("br",{}),Object(w.jsx)("input",{onClick:function(){return l(!0)},style:{marginTop:"30px",marginBottom:"30px"},type:"submit",value:"Login",className:"btn btn-primary"}),Object(w.jsx)("br",{})]})]})})}),Object(w.jsx)(y.a,{xl:4})]})})}var Ge=a(25);function Je(e){var t,a=r.a.createRef(),n=(t=a,Object(w.jsx)("div",{classname:"table-responsive",children:Object(w.jsx)("table",{ref:t,className:"table table-dark",style:{width:"100%"},children:Object(w.jsx)("thead",{children:Object(w.jsxs)("tr",{children:[Object(w.jsx)("th",{children:"SLA ID"}),Object(w.jsx)("th",{children:"Start Time"}),Object(w.jsx)("th",{children:"SLA Type"}),Object(w.jsx)("th",{children:"Latest Result"}),Object(w.jsx)("th",{children:"Success"}),Object(w.jsx)("th",{children:"Failure"}),Object(w.jsx)("th",{children:"RTT"}),Object(w.jsx)("th",{children:"TTL"})]})})})}));return Ge.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==a.current)try{Ge(a.current).DataTable().clear(),Ge(a.current).DataTable().rows.add(e.slas),Ge(a.current).DataTable().draw(!1)}catch(t){}}),[e.slas]),Object(c.useEffect)((function(){Ge(a.current).DataTable().destroy(),function(e,t){try{S(e).DataTable().destroy(),S(e).DataTable({data:t,language:{emptyTable:"No SLAs Found"},columns:[{data:"oper-id"},{data:"latest-oper-start-time"},{data:"oper-type"},{data:"latest-return-code"},{data:"success-count"},{data:"failure-count"},{data:"rtt-info.latest-rtt.rtt"},{data:"rtt-info.latest-rtt.time-to-live"}],fnRowCallback:function(e,t){try{t["success-count"]?S("td:eq(4)",e).addClass("env-row-text"):parseInt(t["failure-count"])>0&&S("td:eq(4)",e).addClass("env-row-text-warn"),t["rtt-info.latest-rtt.time-to-live"]||S("td:eq(7)",e).html("forever")}catch(a){}}})}catch(a){}}(a.current,e.slas)}),[]),n}Ge.DataTable=a(31);var Qe={size:15,strokeWidth:0,color:"white"},Ye={enabled:!0},Ze={size:16,color:"white"},$e={nodes:{shape:"image",image:C,size:35,color:{border:"black",background:"#166F20",highlight:{border:"#2B7CE9",background:"#D2E5FF"}}},layout:{randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!0,levelSeparation:500,treeSpacing:150,edgeMinimization:!0,parentCentralization:!0,direction:"RL",sortMethod:"hubsize",shakeTowards:"roots"}},physics:{enabled:!0,hierarchicalRepulsion:{centralGravity:0,springLength:0,springConstant:.01,nodeDistance:200,damping:1,avoidOverlap:1}}};var et=a(25);function tt(e){var t=r.a.createRef(),a=Object(c.useRef)();return et.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){try{a.current=(c=a.current,r=e.sla,n=e.localIp,"ret-code-ok"!==r["latest-return-code"]?c.body.data.edges.update({id:2e3,from:1,to:n,color:"yellow",label:"Latest: "+r["latest-return-code"]+"\nSuccess: "+r["success-count"]+"\nFailures: "+r["failure-count"]}):c.body.data.edges.update({id:2e3,from:1,to:n,color:"green",label:"Latest: "+r["latest-return-code"]+"\nSuccess: "+r["success-count"]+"\nFailures: "+r["failure-count"]}),c),t.current=a.current}catch(s){console.log(s)}var c,r,n}),[e.sla]),Object(c.useEffect)((function(){try{a.current=function(e,t,a){var c=[],r=[];c.push({id:1,label:"Responder",font:Ze}),c.push({id:a,label:a,font:Ze}),"ret-code-ok"!==t["latest-return-code"]?r.push({id:2e3,from:1,to:a,color:"yellow",label:"Latest: "+t["latest-return-code"]+"\nSuccess: "+t["success-count"]+"\nFailures: "+t["failure-count"],font:Qe,arrows:{from:Ye}}):r.push({id:2e3,from:1,to:a,color:"green",label:"Latest: "+t["latest-return-code"]+"\nSuccess: "+t["success-count"]+"\nFailures: "+t["failure-count"],font:Qe,arrows:{from:Ye}});var n={nodes:c,edges:r};return new E.Network(e,n,$e)}(t.current,e.sla,e.localIp),t.current=a.current}catch(c){}}),[]),Object(w.jsx)("div",{ref:t,className:"bg-dark",style:{width:"100%",height:"300px"}})}function at(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"getipsla",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/getipsla",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:5e3}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return n?Object(w.jsxs)("div",{children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l})}),Object(w.jsx)("h4",{classname:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{classname:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:J,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})}),Object(w.jsx)(v.a,{children:U(Object(w.jsx)(Je,{slas:s.slas}),"IP SLAs")}),Object(w.jsx)(v.a,{children:s.slas.map((function(e){return Object(w.jsx)(y.a,{xl:!0,children:Object(w.jsx)(g.ErrorBoundary,{children:U(Object(w.jsx)(tt,{sla:e,localIp:localStorage.getItem("ip")}),"SLA ID: "+e["oper-id"])})})}))})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}et.DataTable=a(31);var ct=a(25);function rt(e){var t=Object(c.useRef)(null),a=r.a.createRef();return ct.fn.dataTable.ext.errMode="none",Object(c.useEffect)((function(){if(null!==t.current)try{var a=function(e,t,a){var c=new Date;return e.data.datasets.forEach((function(r,n){r.data.length>=10?0===n?(e.data.labels.shift(),e.data.labels.push(c.getSeconds()),r.data.shift(),r.data.push(parseInt(t))):(r.data.shift(),r.data.push(parseInt(a))):0===n?(e.data.labels.push(c.getSeconds()),r.data.push(parseInt(t))):r.data.push(parseInt(a))})),e}(t.current,parseInt(e.value.statistics["tx-kbps"]),parseInt(e.value.statistics["rx-kbps"]));a.update(),t.current=a}catch(c){}}),[e.value]),Object(c.useEffect)((function(){try{var c=function(e,t,a){f.d.register(f.f,f.g,f.i,f.h,f.c,f.j,f.e);var c=new Date;return new f.d(e,{type:"line",options:{responsive:!0,animation:!0,plugins:{legend:{display:!0,labels:{color:"white"},position:"top"}},scales:{y:{min:0,display:!0,position:"right",grid:{},ticks:{stepSize:1,color:"yellow"}},y1:{min:0,display:!0,position:"left",grid:{},ticks:{stepSize:1,color:"white"}},x:{grid:{borderColor:"white"},ticks:{stepSize:1,color:"white"},title:{display:!0,text:"Seconds",color:"white"}}}},data:{labels:[c.getSeconds()],datasets:[{label:"Mbps Out",borderColor:"yellow",backgroundColor:"yellow",data:[parseInt(t)/1e3],fill:!1,tension:.5,yAxisID:"y"},{label:"Mbps In",borderColor:"white",backgroundColor:"white",data:[parseInt(a)/1e3],fill:!1,tension:.5,yAxisID:"y1"}]}})}(a.current.getContext("2d"),parseInt(e.value.statistics["tx-kbps"]),parseInt(e.value.statistics["rx-kbps"]));t.current=c}catch(r){}}),[]),Object(w.jsxs)("div",{children:[Object(w.jsx)(v.a,{children:Object(w.jsx)("canvas",{ref:a,height:"300px"})}),Object(w.jsx)("br",{}),Object(w.jsxs)(v.a,{div:!0,className:"row",children:[Object(w.jsxs)(y.a,{xl:6,children:[Object(w.jsxs)("p",{className:"card-text",children:["Speed: ",1e3*Math.round(parseInt(e.value.speed)/1e9)," (Mbps)"]}),Object(w.jsxs)("p",{className:"card-text",children:["Status: ",e.value["oper-status"]]}),Object(w.jsxs)("p",{className:"card-text",children:["IP: ",e.value.ipv4,"-",e.value["ipv4-subnet-mask"]]}),Object(w.jsxs)("p",{className:"card-text",children:["Descr: ",e.value.description]}),Object(w.jsxs)("p",{className:"card-text",children:["MTU: ",e.value.mtu]}),Object(w.jsxs)("p",{className:"card-text",children:["Mbps Out: ",e.value.statistics["tx-kbps"]]}),Object(w.jsxs)("p",{className:"card-text",children:["Mbps In: ",e.value.statistics["rx-kbps"]]}),Object(w.jsxs)("p",{className:"card-text",children:["PPs Out: ",e.value.statistics["rx-pps"]]}),Object(w.jsxs)("p",{className:"card-text",children:["PPs In: ",e.value.statistics["tx-pps"]]})]}),Object(w.jsxs)(y.a,{xl:6,children:[Object(w.jsxs)("p",{className:"card-text",children:["InDis: ",e.value.statistics["in-discards"]]}),Object(w.jsxs)("p",{className:"card-text",children:["OutDis: ",e.value.statistics["out-discards"]]}),Object(w.jsxs)("p",{className:"card-text",children:["InErr: ",e.value.statistics["in-errors"]]}),Object(w.jsxs)("p",{className:"card-text",children:["InDis: ",e.value.statistics["out-errors"]]}),Object(w.jsxs)("p",{className:"card-text",children:["CRC: ",e.value.statistics["in-crc-errors"]]}),Object(w.jsxs)("p",{className:"card-text",children:["InDis: ",e.value.statistics["num-flaps"]]}),Object(w.jsxs)("p",{className:"card-text",children:["LastChange: ",e.value.statistics["discontinuity-time"].split(".")[100]]}),Object(w.jsxs)("p",{className:"card-text",children:["Qos/Direction: ",e.qos.policy," - ",e.qos.direction]})]})]})]})}function nt(){var e=Object(m.c)(it),t=Object(d.a)(e,1)[0],a=G.AES.decrypt(localStorage.getItem("password"),t),c=Object(j.a)(localStorage.getItem("ip")+"liveinterfaces",Object(o.a)(i.a.mark((function e(){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.post("/liveinterfaces",{ip:localStorage.getItem("ip"),username:localStorage.getItem("username"),password:a.toString(G.enc.Utf8),port:localStorage.getItem("port")});case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)}))),{refetchInterval:5e3}),r=c.isLoading,n=c.error,s=c.data,l=c.isFetching;return console.log(s),n?Object(w.jsxs)("div",{children:[Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l}),Object(w.jsx)("h4",{className:"text-center fade-in",style:{marginTop:100},children:"Error Collecting Data. I'll Keep Trying"}),Object(w.jsx)("div",{className:"warning-loader text-center"})]}):s?Object(w.jsxs)(u.a,{fluid:!0,children:[Object(w.jsx)(g.ErrorBoundary,{FallbackComponent:z,children:Object(w.jsx)(H,{update:s,ip:localStorage.getItem("ip"),fetchingStatus:l,cpu:s.cpu,mem:s.mem})}),Object(w.jsx)(v.a,{children:Object.values(s.interfaces).map((function(e){return Object(w.jsx)(y.a,{xl:4,children:U(Object(w.jsx)(rt,{qos:e.qos,value:e.data},e.interface),e.interface)})}))})]}):r?Object(w.jsx)("div",{children:K(localStorage.getItem("ip"),localStorage.getItem("serial"),localStorage.getItem("model"),localStorage.getItem("uptime"),localStorage.getItem("software"))}):void 0}ct.DataTable=a(31);var st=a(218),lt=a(129),it=Object(m.b)({key:"key",default:"jdh%):Aap(3>S#"}),ot=new st.a;var dt=function(){return Object(w.jsx)("div",{className:"App",children:Object(w.jsx)(q.a,{children:Object(w.jsxs)(He.d,{children:[Object(w.jsx)(He.b,{path:"/index",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(Q,{})})})}),Object(w.jsx)(He.b,{path:"/layerTwo",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(le,{})})})}),Object(w.jsx)(He.b,{path:"/routing",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(ke,{})})})}),Object(w.jsx)(He.b,{path:"/config",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(Le,{})})})}),Object(w.jsx)(He.b,{path:"/dmvpn",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(Fe,{})})})}),Object(w.jsx)(He.b,{path:"/environment",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(fe,{})})})}),Object(w.jsx)(He.b,{path:"/ribstatus",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(_e,{})})})}),Object(w.jsx)(He.b,{path:"/ipslas",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(at,{})})})}),Object(w.jsx)(He.b,{path:"/live_interfaces",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(nt,{})})})}),Object(w.jsx)(He.b,{path:"/",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(Ke,{})})})}),Object(w.jsx)(He.b,{path:"/logout",children:Object(w.jsx)(m.a,{children:Object(w.jsx)(lt.a,{client:ot,children:Object(w.jsx)(Ke,{})})})})]})})})};s.a.render(Object(w.jsx)(dt,{}),document.getElementById("root"))}},[[212,1,2]]]);
//# sourceMappingURL=main.a380ef2f.chunk.js.map